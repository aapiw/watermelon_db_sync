class <%= migration_class_name %> < ActiveRecord::Migration[6.0]
  def change
    add_column :<%= model_name.tableize %>, :version, :bigint, default: -> { "nextval('global_seqs')" }
    add_column :<%= model_name.tableize %>, :version_created, :bigint, default: -> { "nextval('global_seqs')" }
    add_column :<%= model_name.tableize %>, :created_at_server, :datetime, default: -> { 'CURRENT_TIMESTAMP' }
    add_column :<%= model_name.tableize %>, :updated_at_server, :datetime, default: -> { 'CURRENT_TIMESTAMP' }
    add_column :<%= model_name.tableize %>, :deleted_at_server, :datetime
    add_column :<%= model_name.tableize %>, :push_id, :integer

    add_index :<%= model_name.tableize %>, :deleted_at_server
  end
end